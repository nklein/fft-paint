<html>
  <head>
    <title>FFT Paint -- by Patrick Stein</title>
    <link rel="stylesheet" type="text/css" href="fft_paint.css" />
    <script type="text/javascript" src="fft.js"></script>
    <script type="text/javascript" src="fft_paint.js"></script>
  </head>
  <body onload="return initGUI();">
    <div id="fft_paint_gui">
      <div>
        <div>
	  <div id="image_side">
	    <canvas id="the_canvas" width="256" height="256"
		    onmousedown="return mousedown();"
		    onmouseup="return mouseup();"
		    onmousemove="return mousemove();">
	      Your browser must support the Canvas tag.  Safari, Firefox,
	      Chrome, Opera, and IE 7 or higher should work.
	    </canvas>
	  </div>
	</div>
	<div>
	  <div id="control_side">
            <div id="tool_bar">
	      <div class="tool_bar_button"
		   onclick="return selectTool('file_controls');">
		<input type="image" id="file_controls_button"
		       src="false.png" width="64" height="64" border="0" />
		<img src="file.png" width="64" height="64" border="0" />
	      </div>
	      <div class="tool_bar_button"
		   onclick="return selectTool('fft_controls');">
		<input type="image" id="fft_controls_button"
		       src="false.png" width="64" height="64" border="0" />
		<img src="fft.png" width="64" height="64" border="0" />
	      </div>
	      <div class="tool_bar_button"
		   onclick="return selectTool('paint_controls');">
		<input type="image" id="paint_controls_button"
		       src="false.png" width="64" height="64" border="0" />
		<img src="paint.png" width="64" height="64" border="0" />
	      </div>
	      <div class="tool_bar_button"
		   onclick="return selectTool('gradient_controls');">
		<input type="image" id="gradient_controls_button"
		       src="false.png"  width="64" height="64" border="0" />
	      </div>
	      <div class="tool_bar_button"
		   onclick="return selectTool('blur_controls');">
		<input type="image" id="blur_controls_button"
		       src="false.png" width="64" height="64" border="0" />
	      </div>
	      <div class="tool_bar_button"
		   onclick="return selectTool('curve_controls');">
		<input type="image" id="curve_controls_button"
		       src="false.png" width="64" height="64" border="0" />
	      </div>
	    </div>
	    <div id="file_controls" class="controls">
	      <h2>File</h2>
	      <label for="input_selector"><strong>Input Image: </strong></label>
	      <br />
	      <select onchange="changeImage(this.options[this.selectedIndex].value);">
		<option value="http://nklein.com/wp-content/uploads/2009/09/ppz.jpg">Isaac &amp; Grandpa</option>
		<option value="diagonal.jpg">Diagonals</option>
		<option value="http://nklein.com/wp-content/themes/nklein/images/med-tile.png">Squares</option>
		<option value="http://nklein.com/wp-content/themes/nklein/images/logo.png">Logo</option>
	      </select>
	      <br />
	      <br />
	      <label for="input_box"><strong>Input Image URL: </strong></label>
	      <br />
	      <input type="text" value="(Enter URL Here)" size="45"
		     onfocus="this.select(); return true;"
		     onchange="changeImage(this.value);" />
	      <br />
	      <br />
	      <strong>Save Canvas:</strong>
	      <br />
	      <a href="javascript:copyCanvas('the_canvas')">Snapshot</a>
	      <br />
	      <br />
	      <p>Here is the <a href="http://git.nklein.com/mas-961/fft_paint.git/">git repository</a> for this code.</p>
	    </div>
	    <div id="fft_controls" class="controls">
	      <h2>Fast Fourier Transform</h2>
	      <input type="button" value="FFT"
		     onclick="doFFT( 'the_canvas', false )" />
	      <input type="button" value="IFFT"
		     onclick="doFFT( 'the_canvas', true )" />
	      <p>Note: the data shown is not the actual
		complex data.  It is just the magnitude of the complex
		numbers.  The real floating point data is stored
		behind the scenes.  When you paint, you are painting
		on the real floating point data.</p>
	      <p>Most folks only bother scaling the complex data
		during the inverse FFT.  I have opted to scale on
		both the FFT and the inverse FFT.  As such, if you
		do the FFT twice in a row, you almost get back the
		original.  The difference comes from the fact that
		I shift the image with each FFT so that the low-order
		frequencies are at the center of the image.  This
		is the way most people are accustomed to seeing
		them.  If I did not do this, the FFT image would
		look like the IFFT of an original image looks here.</p>
	    </div>
	    <div id="paint_controls" class="controls">
	      <h2>Paint</h2>
	      <p>Right now, you can paint with one brush in red.</p>
	      <p>Coming soon... you will be able to select your
	         color, your brush, and your paint mode
	         (additive, multiplicative, etc.)</p>
	    </div>
	    <div id="gradient_controls" class="controls">
	      <h2>Gradient</h2>
	      <p>Coming soon...</p>
	    </div>
	    <div id="blur_controls" class="controls">
	      <h2>Blur</h2>
	      <p>Coming soon...</p>
	    </div>
	    <div id="curve_controls" class="controls">
	      <h2>Curves</h2>
	      <p>Coming soon...</p>
	    </div>
	  </div>
	</div>
      </div>
    </div>
    <div class="collapsed">
      <img id="original_image"
	   src="http://nklein.com/wp-content/uploads/2009/09/ppz.jpg"
	   width="256" height="512" />
    </div>
  </body>
</html>
